# 블로그 이미지 S3 업로드 기능 개선 PRD

## 개요
- 기존 블로그에서 이미지 업로드 기능을 개선하여, 사용자가 에디터(QuillJS)에서 이미지를 삽입하면 AWS S3에 업로드되도록 구조를 변경한다.
- 현재는 QuillJS의 이미지 업로드 기능을 사용하지 않고 있음.

## 요구사항 및 세부 작업

### 1. 요구사항 및 현재 구조 파악
- 현재 이미지 업로드 방식(혹은 미사용 상태) 코드 위치 및 관련 컴포넌트 파악
- QuillJS 에디터에서 이미지 업로드 기능 활성화 방법 조사
- S3 업로드를 위한 AWS 계정 및 S3 버킷 준비 상태 확인

### 2. AWS S3 연동 준비
- S3 버킷 생성 및 퍼미션(권한) 설정
- S3에 업로드할 수 있는 IAM 사용자 및 액세스 키 발급
- S3 업로드 테스트용 임시 코드 작성 및 정상 동작 확인

### 3. 프론트엔드(QuillJS) 이미지 업로드 기능 활성화
- QuillJS의 이미지 핸들러(커스텀 핸들러) 활성화
- 이미지 삽입 시, 파일을 선택받는 커스텀 핸들러 구현
- 선택된 이미지를 S3로 업로드하는 함수와 연동

### 4. S3 업로드 방식 결정 및 구현
- 직접 S3에 업로드(클라이언트에서 바로) vs Presigned URL 방식 중 선택
- Presigned URL 방식 선택 시, 백엔드(혹은 서버리스 함수)에서 Presigned URL 발급 API 구현
- 프론트엔드에서 Presigned URL을 받아 이미지 업로드 구현

### 5. 업로드 후 에디터에 이미지 삽입
- S3 업로드 성공 시, 반환된 이미지 URL을 에디터에 삽입
- 업로드 실패 시, 에러 처리 및 사용자 알림

### 6. 보안 및 최적화
- S3 버킷 퍼미션 점검(퍼블릭/프라이빗, CORS 등)
- 업로드 파일 타입/크기 제한
- 불필요한 파일 업로드 방지 및 클린업 정책 검토

### 7. 테스트 및 배포
- 다양한 이미지 파일로 업로드 테스트
- 모바일/데스크탑 등 다양한 환경에서 동작 확인
- 코드 정리 및 배포 